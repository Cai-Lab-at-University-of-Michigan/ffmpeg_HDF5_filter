apply plugin: 'java'

group = 'ch.psi'
version = '0.13.0'

description = """"""

sourceCompatibility = 1.8
targetCompatibility = 1.8


repositories {
    mavenCentral()
    maven { url "http://artifacts.psi.ch/artifactory/libs-releases" }
    maven { url "http://maven.imagej.net/content/repositories/public/" }
    flatDir {
        dirs 'lib'
    }
}

// define a provided scope
configurations {
    provided
    compile.extendsFrom provided
}

dependencies {

    compile name: 'sis-jhdf5-19.04.0'
    compile name: 'sis-base-18.09.0'
    compile name: 'commons-io-2.6'
    compile group: 'org.slf4j', name: 'slf4j-api', version: '1.7.6'
    testCompile group: 'junit', name: 'junit', version: '4.11'


    provided group: 'net.imagej', name: 'ij', version: '1.53e'
}

task fatJar(type: Jar) {
    archiveBaseName = 'HDF5_Viewer'
    from { (configurations.compile - configurations.provided).collect { it.isDirectory() ? it : zipTree(it) } }
    with jar
}